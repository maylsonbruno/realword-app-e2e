{"version":3,"file":"C:/Users/full/Desktop/RealWordApp/cypress-realworld-app/backend/testdata-routes.ts","sources":["C:/Users/full/Desktop/RealWordApp/cypress-realworld-app/backend/testdata-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;;;;;;;;;;AAEhC,oDAA8B;AAC9B,uCAA2D;AAC3D,qCAA+C;AAC/C,2CAAsD;AAEtD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,qBAAqB;AACrB,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,UAAC,GAAG,EAAE,GAAG;IAC5B,IAAA,uBAAY,GAAE,CAAC;IACf,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CAAC,CAAC;AAEH,uBAAuB;AACvB,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,IAAA,4BAAkB,oBAAK,mCAAsB,QAAE,EAAE,UAAC,GAAG,EAAE,GAAG;IACvE,IAAA,MAAM,GAAK,GAAG,CAAC,MAAM,OAAf,CAAgB;IAC9B,IAAM,OAAO,GAAG,IAAA,0BAAe,EAAC,MAAwB,CAAC,CAAC;IAE1D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,SAAA,EAAE,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { getAllForEntity, seedDatabase } from \"./database\";\r\nimport { validateMiddleware } from \"./helpers\";\r\nimport { isValidEntityValidator } from \"./validators\";\r\nimport { DbSchema } from \"../src/models/db-schema\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//POST /testData/seed\r\nrouter.post(\"/seed\", (req, res) => {\r\n  seedDatabase();\r\n  res.sendStatus(200);\r\n});\r\n\r\n//GET /testData/:entity\r\nrouter.get(\"/:entity\", validateMiddleware([...isValidEntityValidator]), (req, res) => {\r\n  const { entity } = req.params;\r\n  const results = getAllForEntity(entity as keyof DbSchema);\r\n\r\n  res.status(200);\r\n  res.json({ results });\r\n});\r\n\r\nexport default router;\r\n"]}
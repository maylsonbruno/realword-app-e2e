{"version":3,"file":"C:/Users/full/Desktop/RealWordApp/cypress-realworld-app/backend/like-routes.ts","sources":["C:/Users/full/Desktop/RealWordApp/cypress-realworld-app/backend/like-routes.ts"],"names":[],"mappings":";AAAA,gCAAgC;;;;;AAEhC,oDAA8B;AAC9B,uCAAkE;AAClE,qCAAoE;AACpE,2CAAiD;AACjD,IAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,SAAS;AAET,2BAA2B;AAC3B,MAAM,CAAC,GAAG,CACR,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IACrC,IAAM,KAAK,GAAG,IAAA,kCAAuB,EAAC,aAAa,CAAC,CAAC;IAErD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChB,GAAG,CAAC,IAAI,CAAC,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,4BAA4B;AAC5B,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,6BAAmB,EACnB,IAAA,4BAAkB,EAAC,CAAC,IAAA,8BAAiB,EAAC,eAAe,CAAC,CAAC,CAAC,EACxD,UAAC,GAAG,EAAE,GAAG;;IACC,IAAA,aAAa,GAAK,GAAG,CAAC,MAAM,cAAf,CAAgB;IACrC,0BAA0B;IAC1B,IAAA,sBAAW,EAAC,MAAA,GAAG,CAAC,IAAI,0CAAE,EAAG,EAAE,aAAa,CAAC,CAAC;IAE1C,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACtB,CAAC,CACF,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["///<reference path=\"types.ts\" />\r\n\r\nimport express from \"express\";\r\nimport { getLikesByTransactionId, createLikes } from \"./database\";\r\nimport { ensureAuthenticated, validateMiddleware } from \"./helpers\";\r\nimport { shortIdValidation } from \"./validators\";\r\nconst router = express.Router();\r\n\r\n// Routes\r\n\r\n//GET /likes/:transactionId\r\nrouter.get(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    const likes = getLikesByTransactionId(transactionId);\r\n\r\n    res.status(200);\r\n    res.json({ likes });\r\n  }\r\n);\r\n\r\n//POST /likes/:transactionId\r\nrouter.post(\r\n  \"/:transactionId\",\r\n  ensureAuthenticated,\r\n  validateMiddleware([shortIdValidation(\"transactionId\")]),\r\n  (req, res) => {\r\n    const { transactionId } = req.params;\r\n    /* istanbul ignore next */\r\n    createLikes(req.user?.id!, transactionId);\r\n\r\n    res.sendStatus(200);\r\n  }\r\n);\r\n\r\nexport default router;\r\n"]}